{{ define "main" }}
<div class="container premium-page alerts-page">
  <header class="alerts-header">
    <h1>Price Alerts</h1>
    <p class="subtitle">Get notified when Bitcoin hits your target prices</p>
  </header>

  <!-- Current Price Banner -->
  <div class="current-price-banner">
    <div class="price-info">
      <span class="label">Current BTC Price</span>
      <span class="price" id="current-price">$--,---</span>
      <span class="change" id="price-change">--%</span>
    </div>
    <div class="last-update">
      <span id="last-update">--</span>
    </div>
  </div>

  <!-- Create Alert Section -->
  <section class="create-alert-section">
    <div class="alert-card">
      <h2>Create New Alert</h2>

      <div class="alert-form">
        <div class="form-row">
          <div class="form-group">
            <label for="alert-type">Alert Type</label>
            <select id="alert-type">
              <option value="price_above">Price Above</option>
              <option value="price_below">Price Below</option>
              <option value="percent_change">% Change (24h)</option>
            </select>
          </div>

          <div class="form-group">
            <label for="alert-value">Target Value</label>
            <div class="input-wrapper">
              <span class="input-prefix" id="value-prefix">$</span>
              <input type="number" id="alert-value" placeholder="100000">
              <span class="input-suffix" id="value-suffix"></span>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="alert-note">Note (optional)</label>
          <input type="text" id="alert-note" placeholder="e.g., Take profit level">
        </div>

        <div class="notification-options">
          <label class="checkbox-label">
            <input type="checkbox" id="notify-browser" checked>
            <span class="checkmark"></span>
            Browser Notification
          </label>
          <label class="checkbox-label">
            <input type="checkbox" id="notify-sound" checked>
            <span class="checkmark"></span>
            Sound Alert
          </label>
        </div>

        <button class="btn-create-alert" id="btn-create-alert">
          <span class="btn-icon">+</span>
          Create Alert
        </button>
      </div>
    </div>
  </section>

  <!-- Quick Alerts -->
  <section class="quick-alerts-section">
    <h3>Quick Alerts</h3>
    <p class="section-desc">One-click alerts for common price targets</p>

    <div class="quick-alerts-grid" id="quick-alerts-grid">
      <!-- Generated by JS based on current price -->
    </div>
  </section>

  <!-- Active Alerts -->
  <section class="active-alerts-section">
    <div class="section-header">
      <h3>Active Alerts</h3>
      <span class="alert-count" id="alert-count">0 alerts</span>
    </div>

    <div class="alerts-list" id="alerts-list">
      <div class="no-alerts" id="no-alerts">
        <div class="no-alerts-icon">ðŸ””</div>
        <p>No alerts set</p>
        <span>Create your first alert above</span>
      </div>
    </div>
  </section>

  <!-- Triggered Alerts History -->
  <section class="triggered-alerts-section">
    <div class="section-header">
      <h3>Recently Triggered</h3>
      <button class="btn-clear-history" id="btn-clear-history">Clear</button>
    </div>

    <div class="triggered-list" id="triggered-list">
      <div class="no-triggered" id="no-triggered">
        <p>No triggered alerts yet</p>
      </div>
    </div>
  </section>

  <!-- Key Levels Section -->
  <section class="key-levels-section">
    <h3>Key Technical Levels</h3>
    <p class="section-desc">Auto-suggested alerts based on technical analysis</p>

    <div class="key-levels-grid">
      <div class="level-card resistance">
        <div class="level-type">Resistance</div>
        <div class="level-value" id="resistance-1">$--,---</div>
        <div class="level-label">Major Resistance</div>
        <button class="btn-add-level" data-type="resistance-1">+ Add Alert</button>
      </div>
      <div class="level-card resistance">
        <div class="level-type">Resistance</div>
        <div class="level-value" id="resistance-2">$--,---</div>
        <div class="level-label">Minor Resistance</div>
        <button class="btn-add-level" data-type="resistance-2">+ Add Alert</button>
      </div>
      <div class="level-card support">
        <div class="level-type">Support</div>
        <div class="level-value" id="support-1">$--,---</div>
        <div class="level-label">Major Support</div>
        <button class="btn-add-level" data-type="support-1">+ Add Alert</button>
      </div>
      <div class="level-card support">
        <div class="level-type">Support</div>
        <div class="level-value" id="support-2">$--,---</div>
        <div class="level-label">Minor Support</div>
        <button class="btn-add-level" data-type="support-2">+ Add Alert</button>
      </div>
    </div>
  </section>

  <!-- Notification Permission -->
  <div class="notification-prompt" id="notification-prompt" style="display: none;">
    <div class="prompt-content">
      <span class="prompt-icon">ðŸ””</span>
      <div class="prompt-text">
        <strong>Enable Browser Notifications</strong>
        <p>Get alerted even when this tab isn't active</p>
      </div>
      <button class="btn-enable-notif" id="btn-enable-notif">Enable</button>
      <button class="btn-dismiss-notif" id="btn-dismiss-notif">Later</button>
    </div>
  </div>
</div>

<script src="{{ "src/js/alerts.js" | relURL }}"></script>
{{ end }}
