{{ define "main" }}
<div class="container posts-page">
  <header class="page-header">
    <h1>Analysis History</h1>
    <p class="page-description">Bitcoin technical analysis powered by AI</p>
  </header>

  <div class="posts-table-container">
    <table class="posts-table">
      <thead>
        <tr>
          <th class="col-date">Date</th>
          <th class="col-time">Time</th>
          <th class="col-sentiment">Sentiment</th>
          <th class="col-confidence">Confidence</th>
          <th class="col-price">Price</th>
          <th class="col-change">Change</th>
          <th class="col-action"></th>
        </tr>
      </thead>
      <tbody>
        {{ range .Pages.ByDate.Reverse }}
        <tr class="post-row {{ .Params.direction }}">
          <td class="col-date">{{ .Date.Format "Jan 02, 2006" }}</td>
          <td class="col-time">{{ .Date.Format "15:04" }} UTC</td>
          <td class="col-sentiment">
            <span class="sentiment-badge {{ .Params.direction }}">
              {{ if eq .Params.direction "up" }}
                <span class="emoji">üìà</span> BULLISH
              {{ else if eq .Params.direction "down" }}
                <span class="emoji">üìâ</span> BEARISH
              {{ else }}
                <span class="emoji">‚è∏Ô∏è</span> NEUTRAL
              {{ end }}
            </span>
          </td>
          <td class="col-confidence">
            <div class="confidence-wrapper">
              <span class="confidence-value">{{ .Params.confidence }}%</span>
              <div class="confidence-bar">
                <div class="confidence-fill" style="width: {{ .Params.confidence }}%"></div>
              </div>
            </div>
          </td>
          <td class="col-price">${{ lang.FormatNumber 2 .Params.price }}</td>
          <td class="col-change {{ if hasPrefix .Params.priceChange "+" }}positive{{ else }}negative{{ end }}">
            {{ .Params.priceChange | default "--" }}
          </td>
          <td class="col-action">
            <a href="{{ .Permalink }}" class="view-btn">View</a>
          </td>
        </tr>
        {{ end }}
      </tbody>
    </table>
  </div>

  {{ if eq (len .Pages) 0 }}
  <div class="empty-state">
    <p>No analysis posts yet. The bot will start posting hourly analysis soon.</p>
  </div>
  {{ end }}
</div>
{{ end }}
